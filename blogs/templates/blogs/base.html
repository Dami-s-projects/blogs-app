{% load static %}
<!DOCTYPE html>
<html lang="en" class="h-100">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>{% block title %}Blogs App{% endblock title %}</title>

  <!-- Favicon -->
<link rel="icon" type="image/x-icon" href="{% static 'blogs/favicon.ico' %}">

  <!-- Bootstrap CSS -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css"
        integrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB" crossorigin="anonymous">

  <!-- Google Fonts: loaded here in base.html so every page can use them -->
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700;900&family=DM+Sans:wght@300;400;500&display=swap" rel="stylesheet">

  <!-- Your global stylesheet â€” base colours, navbar, footer, resets -->
  <link rel="stylesheet" href="{% static 'blogs/css/cover.css' %}">

  <!-- Per-page extra CSS block â€” child templates drop their unique styles here -->
  {% block extra_css %}{% endblock extra_css %}

  <style>
    /* â”€â”€ GREETING BANNER â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
       Slim bar shown just below the navbar when a user is
       logged in. Slides down smoothly on page load.
       Hidden entirely for logged-out visitors.
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    .greeting-bar {
      width: 100%;
      background: rgba(240, 165, 0, 0.07);   /* very subtle gold wash  */
      border-bottom: 1px solid rgba(240, 165, 0, 0.15);
      padding: 0.55rem 2.5rem;
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 1rem;
      animation: slideDown 0.5s ease both;
      flex-wrap: wrap;
    }

    /* Greeting text on the left */
    .greeting-text {
      font-size: 0.82rem;
      color: var(--muted);
      font-weight: 400;
    }
    /* Username highlighted in gold */
    .greeting-text strong {
      color: var(--accent);
      font-weight: 600;
    }

    /* Small "you're logged in" badge on the right */
    .greeting-badge {
      display: inline-flex;
      align-items: center;
      gap: 0.35rem;
      font-size: 0.72rem;
      font-weight: 600;
      letter-spacing: 1px;
      text-transform: uppercase;
      color: var(--accent);
      opacity: 0.7;
    }
    /* Green online dot */
    .greeting-badge::before {
      content: '';
      display: block;
      width: 6px;
      height: 6px;
      border-radius: 50%;
      background: #4caf7d;   /* green â€” signals active session */
    }

    /* Slides in from slightly above */
    @keyframes slideDown {
      from { opacity: 0; transform: translateY(-8px); }
      to   { opacity: 1; transform: translateY(0); }
    }
  </style>
</head>

<!-- 
  BODY
  Kept Bootstrap's d-flex + flex-column so your layout still stacks
  header â†’ content â†’ footer correctly.
  Removed text-center from body so content can align itself per page.
  text-bg-dark kept so Bootstrap components inherit the dark theme.
-->
<body class="d-flex h-100 text-bg-dark flex-column">

  <!-- ============================================================
       HEADER / NAVBAR
       Sticky top bar. backdrop-filter gives the frosted-glass look.
       clearfix handles the float-based layout Bootstrap's cover
       example uses (brand floated left, nav floated right).
  ============================================================ -->
  <header class="site-header w-100 px-4 px-md-5">
    <div class="clearfix d-flex align-items-center justify-content-between">

      <!-- Brand / logo â€” floated left on md+ screens -->
      <a class="nav-brand" href="{% url 'blogs:index' %}">Blogs<span>.</span></a>

      <!-- Nav links â€” floated right -->
      <nav class="nav nav-masthead">

        <a class="nav-link fw-bold py-1 px-2
           {% if request.resolver_match.url_name == 'index' %}active{% endif %}"
           href="{% url 'blogs:index' %}">Home</a>

        <a class="nav-link fw-bold py-1 px-2
           {% if request.resolver_match.url_name == 'blog_topics' %}active{% endif %}"
           href="{% url 'blogs:blog_topics' %}">All Blogs</a>

        {% if user.is_authenticated %}
          <!-- Logout as a styled link-button so it matches the nav visually -->
          <form action="{% url 'accounts:logout' %}" method="post" class="d-inline">
            {% csrf_token %}
            <!-- Styled to look like a nav link, not a default browser button -->
            <button type="submit" class="nav-link fw-bold py-1 px-2 logout-btn">Log Out</button>
          </form>
        {% else %}
          <a class="nav-link fw-bold py-1 px-2
             {% if request.resolver_match.url_name == 'register' %}active{% endif %}"
             href="{% url 'accounts:register' %}">Register</a>

          <a class="nav-link fw-bold py-1 px-2
             {% if request.resolver_match.url_name == 'login' %}active{% endif %}"
             href="{% url 'accounts:login' %}">Login</a>
        {% endif %}

      </nav>
    </div>
  </header>


  <!-- ============================================================
       GREETING BAR
       Only rendered when the user is logged in.
       {{ user.username }} pulls the name from the session.
  ============================================================ -->
  {% if user.is_authenticated %}
  <div class="greeting-bar">
    <p class="greeting-text">
      ðŸ‘‹ Welcome back, <strong>{{ user.username }}</strong>! Ready to write something great today?
    </p>
    <span class="greeting-badge">Active session</span>
  </div>
  {% endif %}


  <!-- ============================================================
       MAIN CONTENT AREA
       cover-container kept so existing pages don't break.
       Each child template fills the {# {% block content %} #} here.
  ============================================================ -->
  <div class="cover-container d-flex w-100 p-3 mx-auto flex-column">
    {% block content %}{% endblock content %}

    <!-- ============================================================
         FOOTER
         Sits at the bottom because of flex-column + mt-auto on content.
    ============================================================ -->
    <footer class="site-footer text-white-50">
      Â© 2026 Blogs App &nbsp;Â·&nbsp; Developer:
  <a href="https://www.linkedin.com/in/damiprofile" target="_blank" style="color: #f0a500; text-decoration: none; margin-left: 0.5rem;">
    Damilola <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="#f0a500" viewBox="0 0 16 16" style="vertical-align: middle;">
      <path d="M0 1.146C0 .513.526 0 1.175 0h13.65C15.474 0 16 .513 16 1.146v13.708c0 .633-.526 1.146-1.175 1.146H1.175C.526 16 0 15.487 0 14.854zm4.943 12.248V6.169H2.542v7.225zm-1.2-8.212c.837 0 1.358-.554 1.358-1.248-.015-.709-.52-1.248-1.342-1.248S2.4 3.226 2.4 3.934c0 .694.521 1.248 1.327 1.248zm4.908 8.212V9.359c0-.216.016-.432.08-.586.173-.431.568-.878 1.232-.878.869 0 1.216.662 1.216 1.634v3.865h2.401V9.25c0-2.22-1.184-3.252-2.764-3.252-1.274 0-1.845.7-2.165 1.193v.025h-.016l.016-.025V6.169h-2.4c.03.678 0 7.225 0 7.225z"/>
    </svg> 
  </a>
    </footer>
  </div>

</body>
</html>